$(function(){console.log("hi there");var a=72,b=0;$("#weather").click(function(){$("html, body").animate({scrollTop:0},200)}),window.setTimeout(function(){b=Math.floor(Math.random()*a),document.getElementById("favicon").setAttribute("href","images/rainbow/rainbow"+b+".gif")},15e3),$(document).on("mouseenter","a",function(){$("body").addClass("link-active")}),$(document).on("mouseleave","a",function(){$("body").removeClass("link-active")}),$(document).on("click",".overlay",function(){var a=$(this).find("img").data("id"),b=document.getElementById(a);$(this).closest(".overlay").remove(),$(b).find("img").removeClass("open"),$(".overlay").length||$("#wrapper").removeClass("blur")})}),$(document).ready(function(){function a(a){return a=a.replace(/((https?|s?ftp|ssh)\:\/\/[^"\s<\>]*[^.,;'">\:\s<\>\)\]\!])/g,function(){return'<a href="'+c+'"  target="_blank">'+c+"</a>"}),a=a.replace(/\B@([_a-z0-9]+)/gi,function(a){return'<a href="http://twitter.com/'+a.substring(1)+'" style="font-weight:lighter;" target="_blank">'+a.charAt(0)+a.substring(1)+"</a>"}),a=a.replace(/\B#([_a-z0-9]+)/gi,function(a){return'<a href="https://twitter.com/search?q='+a.substring(1)+'" style="font-weight:lighter;" target="_blank">'+a.charAt(0)+a.substring(1)+"</a>"})}function b(a){var b=a.split(" ");a=b[1]+" "+b[2]+", "+b[5]+" "+b[3];var c=Date.parse(a),d=arguments.length>1?arguments[1]:new Date,e=parseInt((d.getTime()-c)/1e3),f=a.substr(4,2)+" "+a.substr(0,3);return e+=60*d.getTimezoneOffset(),60>e?"1m":120>e?"1m":3600>e?parseInt(e/60).toString()+"m":7200>e?"1h":86400>e?parseInt(e/3600).toString()+"h":172800>e?f:f}var c,d=100,e=!1,f=!0,g=!0,h=!1,j=!0,k="",l="";$("#twitter-feed").html(k+l),$.getJSON("private/get-tweets1.1.php",function(l){var m="",n=1;for(i=0;i<l.length;i++){var o=l[i].user.name,p=l[i].user.screen_name,q=l[i].user.profile_image_url_https,r=l[i].text,s=!1,t=!1,u=l[i].id_str;if("undefined"!=typeof l[i].retweeted_status&&(q=l[i].retweeted_status.user.profile_image_url_https,o=l[i].retweeted_status.user.name,p=l[i].retweeted_status.user.screen_name,u=l[i].retweeted_status.id_str,r=l[i].retweeted_status.text,s=!0),l[i].entities.urls.length)for(var v=0;v<l[i].entities.urls.length;v++)c=l[i].entities.urls[v].expanded_url;else if("undefined"!=typeof l[i].entities.media)for(var w=0;w<l[i].entities.media.length;w++)c=l[i].entities.media[w].media_url+":large";else c="";"@"==l[i].text.substr(0,1)&&(t=!0),console.log(l[i]),(f===!0||s===!1&&f===!1)&&(e===!0||e===!1&&t===!1)&&l[i].text.length>1&&d>=n&&(g===!0&&(r=a(r)),1==n&&(m+=k),m+='<div class="twitter-article" id="tw'+n+'">',m+='<div class="twitter-text"><span class="tweet-time">'+b(l[i].created_at)+"</span> "+r,s===!0&&j===!0&&(m+='<div id="retweet-indicator"></div>'),h===!0&&(m+='<div id="twitter-actions"><div class="intent" id="intent-reply"><a href="https://twitter.com/intent/tweet?in_reply_to='+u+'" title="Reply"></a></div><div class="intent" id="intent-retweet"><a href="https://twitter.com/intent/retweet?tweet_id='+u+'" title="Retweet"></a></div><div class="intent" id="intent-fave"><a href="https://twitter.com/intent/favorite?tweet_id='+u+'" title="Favourite"></a></div></div>'),m+="</div>",m+="</div>",n++)}$("#twitter-feed").html(m),h===!0&&($(".twitter-article").hover(function(){$(this).find("#twitter-actions").css({display:"block",opacity:0,"margin-top":-20}),$(this).find("#twitter-actions").animate({opacity:1,"margin-top":0},200)},function(){$(this).find("#twitter-actions").animate({opacity:0,"margin-top":-20},120,function(){$(this).css("display","none")})}),$("#twitter-actions a").click(function(){var a=$(this).attr("href");return window.open(a,"tweet action window","width=580,height=500"),!1}))}).error(function(a){var b="";b=0===a.status?"Connection problem. Check file path and www vs non-www in getJSON request":404==a.status?"Requested page not found. [404]":500==a.status?"Internal Server Error [500].":"parsererror"===exception?"Requested JSON parse failed.":"timeout"===exception?"Time out error.":"abort"===exception?"Ajax request aborted.":"Uncaught Error.\n"+a.responseText,alert("error: "+b)})}),$(function(){function a(){var a=String(b.temperature).split(".")[0]+"&#176;",c=new Date(parseInt(b.time+"000")),d=["January","February","March","April","May","June","July","August","September","October","November","December"];month=d[c.getMonth()];var e=month+" "+c.getDate()+", "+c.getFullYear();$("#temperature").html(a),$("#date").html(e);var f=b.icon,g=$("#icon");g.html("clear-day"==f?'<span title="Clear day">&#9728;</span>':"clear-night"==f?'<span title="Clear night">&#9790;</span>':"rain"==f?'<span title="Rain">&#9730;</span>':"snow"==f?'<span title="Snow">&#10052;</span>':"sleet"==f?'<span title="Sleet">&#9730; &#10053</span>':"wind"==f?'<span title="Wind">&#8779;</span>':"fog"==f?'<span title="Fog">&#9618;</span>':"cloudy"==f?'<span title="Cloudy">&#9729;</span>':"partly-cloudy-day"==f?'<span title="Partly cloudy">&#9728; &#9729;</span>':"partly-cloudy-night"==f?'<span title="Partly cloudy">&#9790; &#9729;</span>':"<span>&#10005;</span>")}var b;$.getJSON("private/weather.php",function(c){b=c.ForecastIOConditionsraw_data,a()})});